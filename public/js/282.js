"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[282],{282:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const o={name:"List",data:function(){return{purchase:{},loading:!1,modal:!1,item:{},msg:null,provider:{}}},mounted:function(){this.fetchIngredients()},methods:{fetchIngredients:function(){var e=this;axios.get("/api/purchase-list-kitchen").then((function(t){e.purchase=t.data})).catch((function(e){console.log(e)}))},openWhatsapp:function(e){this.item=e,this.provider=e.providers[0],this.modal=!0,this.msg=e.name+" - "+e.diff},done:function(e){var t=this;axios.post("/api/purchase-list-kitchen/done",{i_id:e.id,p_id:this.purchase.id}).then((function(e){t.modal=!1,t.item={},t.fetchIngredients()})).catch((function(e){console.log(e)}))}}};const i=(0,n(1900).Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-row",[n("v-col",[n("h1",{},[e._v(e._s(e.purchase.cuisine)+" - "+e._s(e.purchase.date))])])],1),e._v(" "),e._l(e.purchase.ingredients,(function(t,o){return t.diff>0?n("v-row",{key:t.id},[n("v-col",{attrs:{cols:"1"}},[n("v-checkbox",{on:{change:function(n){return e.done(t)}},model:{value:t.is_done,callback:function(n){e.$set(t,"is_done",n)},expression:"i.is_done"}})],1),e._v(" "),n("v-col",{attrs:{cols:"11"}},[n("v-card",{attrs:{disabled:1===t.is_done,color:1===t.is_done?"grey lighten-1":""}},[n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("h3",[e._v(e._s(o+1)+". "+e._s(t.name))])]),e._v(" "),n("v-col",{attrs:{cols:"6",sm:"4"}},[n("h5",{staticClass:"text-uppercase"},[e._v("Нужно взять:")]),e._v(" "),n("h2",{},[e._v(e._s(t.diff))])]),e._v(" "),t.providers.length>0?n("v-col",{attrs:{sm:"1"}},[n("v-btn",{attrs:{icon:"",color:"green",dark:""},on:{click:function(n){return e.openWhatsapp(t)}}},[n("v-icon",[e._v("\n                                        mdi-whatsapp\n                                    ")])],1)],1):e._e()],1)],1)],1)],1)],1):e._e()})),e._v(" "),n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{scrollable:"","max-width":"500px"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[n("v-card",[n("v-card-title",[e._v(e._s(e.item.name))]),e._v(" "),n("v-divider"),e._v(" "),n("v-card-text",[n("v-row",[n("v-col",[n("v-select",{staticClass:"mt-5",attrs:{items:e.item.providers,"item-text":"name","item-value":"id",outlined:""},model:{value:e.provider.id,callback:function(t){e.$set(e.provider,"id",t)},expression:"provider.id"}}),e._v(" "),n("v-textarea",{attrs:{outlined:"",clearable:""},model:{value:e.msg,callback:function(t){e.msg=t},expression:"msg"}})],1)],1)],1),e._v(" "),n("v-divider"),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.modal=!1}}},[e._v("\n                            Закрыть\n                        ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:"",href:"https://api.whatsapp.com/send?phone="+e.provider.phone+"&text="+encodeURIComponent(this.msg),target:"_blank"},on:{click:function(t){e.modal=!1}}},[e._v("\n                            Отправить\n                        ")])],1)],1)],1)],1)],2)}),[],!1,null,null,null).exports}}]);