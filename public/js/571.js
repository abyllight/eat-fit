"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[571],{6571:(n,t,i)=>{i.r(t),i.d(t,{default:()=>a});var e=i(7757),s=i.n(e);function o(n,t,i,e,s,o,r){try{var c=n[o](r),a=c.value}catch(n){return void i(n)}c.done?t(a):Promise.resolve(a).then(e,s)}function r(n){return function(){var t=this,i=arguments;return new Promise((function(e,s){var r=n.apply(t,i);function c(n){o(r,e,s,c,a,"next",n)}function a(n){o(r,e,s,c,a,"throw",n)}c(void 0)}))}}const c={name:"Cuisine",data:function(){return{cuisines:[],btn_loading:!1,loading:!1,disabled:!1}},created:function(){this.getCuisines()},methods:{getCuisines:function(){var n=this;return r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/cuisines").then((function(t){n.cuisines=t.data})).catch((function(n){console.log(n)}));case 2:case"end":return t.stop()}}),t)})))()},setDuty:function(n){var t=this;axios.post("/api/cuisine/duty",{id:n}).then((function(n){t.getCuisines()})).catch((function(n){console.log(n)}))},goToCuisineDishes:function(n){this.$router.push({name:"cuisine_dishes",params:{id:n}})},fetchCuisines:function(){var n=this;return r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.btn_loading=!0,n.disabled=!0,t.next=4,axios.get("/api/cuisines/iiko").then((function(t){n.$store.dispatch("showAlert",{isVisible:!0,msg:t.data.msg,color:t.data.status?"green":"error",type:t.data.status?"success":"error"}),n.getCuisines()})).catch((function(n){console.log(n)})).finally((function(){n.btn_loading=!1,n.disabled=!1}));case 4:case"end":return t.stop()}}),t)})))()}}};const a=(0,i(1900).Z)(c,(function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",[i("v-row",[i("v-btn",{staticClass:"ma-3",attrs:{loading:n.btn_loading,disabled:n.disabled,color:"primary"},on:{click:n.fetchCuisines}},[n._v("\n            Получить Кухни\n        ")])],1),n._v(" "),i("v-row",n._l(n.cuisines,(function(t,e){return i("v-col",{key:e,attrs:{cols:"12",md:"3"}},[i("h3",{staticClass:"mb-4"},[n._v("Неделя #"+n._s(e))]),n._v(" "),n._l(t,(function(t){return i("v-card",{key:t.name,staticClass:"mb-3",attrs:{color:t.is_on_duty?"green":"grey"}},[i("v-card-title",[n._v(n._s(t.position)+". "+n._s(t.name))]),n._v(" "),i("v-card-actions",[i("v-btn",{attrs:{color:"white",text:""},on:{click:function(i){return n.goToCuisineDishes(t.id)}}},[n._v("\n                        Настроить\n                    ")]),n._v(" "),i("v-btn",{attrs:{color:"white",text:""},on:{click:function(i){return n.setDuty(t.id)}}},[n._v("\n                        Назначить\n                    ")])],1)],1)}))],2)})),1)],1)}),[],!1,null,null,null).exports}}]);