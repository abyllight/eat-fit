"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[147],{4120:(t,e,n)=>{n.d(e,{Z:()=>o});var a=n(1519),r=n.n(a)()((function(t){return t[1]}));r.push([t.id,"table[data-v-27a61a12],td[data-v-27a61a12]{border:1px solid #000}",""]);const o=r},1519:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,a){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);a&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},3379:(t,e,n)=>{var a,r=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function s(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},a=[],r=0;r<t.length;r++){var o=t[r],c=e.base?o[0]+e.base:o[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=s(u),v={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(i[d].references++,i[d].updater(v)):i.push({identifier:u,updater:_(v,e),references:1}),a.push(u)}return a}function l(t){var e=document.createElement("style"),a=t.attributes||{};if(void 0===a.nonce){var r=n.nc;r&&(a.nonce=r)}if(Object.keys(a).forEach((function(t){e.setAttribute(t,a[t])})),"function"==typeof t.insert)t.insert(e);else{var i=o(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function v(t,e,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(t.styleSheet)t.styleSheet.cssText=d(e,r);else{var o=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function f(t,e,n){var a=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var p=null,h=0;function _(t,e){var n,a,r;if(e.singleton){var o=h++;n=p||(p=l(e)),a=v.bind(null,n,o,!1),r=v.bind(null,n,o,!0)}else n=l(e),a=f.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var a=0;a<n.length;a++){var r=s(n[a]);i[r].references--}for(var o=c(t,e),l=0;l<n.length;l++){var u=s(n[l]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=o}}}},8147:(t,e,n)=>{n.r(e),n.d(e,{default:()=>u});var a=n(9669),r=n.n(a);const o={name:"Report",data:function(){return{max:null,date:null,menu:!1,couriers:[]}},created:function(){this.fetchReports()},methods:{fetchReports:function(){var t=this;r().get("/api/reports").then((function(e){t.max=e.data.max,t.date=e.data.max,t.couriers=e.data.reports})).catch((function(t){console.log(t)}))},filter:function(){var t=this;r().post("/api/reports/filter",{date:this.date}).then((function(e){t.menu=!1,t.couriers=e.data.reports})).catch((function(t){console.log(t)}))},excel:function(){r().get("/api/reports/export/"+this.date).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}}};var i=n(3379),s=n.n(i),c=n(4120),l={insert:"head",singleton:!1};s()(c.Z,l);c.Z.locals;const u=(0,n(1900).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",[n("v-col",{attrs:{cols:"3"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{label:"Выберите дату","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",r,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),n("v-date-picker",{attrs:{max:t.max,"no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("\n                        Cancel\n                    ")]),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.filter}},[t._v("\n                        OK\n                    ")])],1)],1)],1),t._v(" "),n("v-col",[n("a",{attrs:{type:"button",href:"/api/reports/export/"+t.date}},[n("v-btn",{attrs:{color:"primary"},on:{click:t.excel}},[t._v("\n                    Скачать отчет\n                ")])],1)])],1),t._v(" "),t._l(t.couriers,(function(e){return n("v-row",{key:e.id},[n("v-col",[n("h3",[t._v(t._s(e[0]?e[0].courier+" - "+e.length:""))]),t._v(" "),n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v("\n                                Имя\n                            ")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v("\n                                Время\n                            ")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v("\n                                Адрес\n                            ")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v("\n                                Тип\n                            ")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v("\n                                Сумма\n                            ")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v("\n                                Статус отчета\n                            ")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v("\n                                Время отчета\n                            ")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v("\n                                Статус Еду\n                            ")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v("\n                                Время Еду\n                            ")])])]),t._v(" "),n("tbody",[t._l(e,(function(e){return[n("tr",[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.time))]),t._v(" "),n("td",[t._v(t._s(e.address))]),t._v(" "),n("td",[t._v(t._s(e.type))]),t._v(" "),n("td",[t._v(t._s(e.amount))]),t._v(" "),n("td",[n("v-chip",{attrs:{label:"",small:"",color:e.report_color}},[t._v("\n                                     "+t._s(e.report_status)+"\n                                 ")])],1),t._v(" "),n("td",[t._v(t._s(e.reported_at))]),t._v(" "),n("td",[n("v-chip",{attrs:{label:"",small:"",color:e.notification_color}},[t._v("\n                                     "+t._s(e.notification_status)+"\n                                 ")])],1),t._v(" "),n("td",[t._v(t._s(e.notified_at))])]),t._v(" "),n("tr",{staticClass:"grey lighten-3"},[n("td",{attrs:{colspan:"10"}},[t._v(t._s(e.comment))])])]}))],2)]},proxy:!0}],null,!0)})],1)],1)}))],2)}),[],!1,null,"27a61a12",null).exports}}]);