(self.webpackChunk=self.webpackChunk||[]).push([[14],{14:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>o});var s=e(757),n=e.n(s);function l(t,a,e,s,n,l,i){try{var c=t[l](i),o=c.value}catch(t){return void e(t)}c.done?a(o):Promise.resolve(o).then(s,n)}function i(t){return function(){var a=this,e=arguments;return new Promise((function(s,n){var i=t.apply(a,e);function c(t){l(i,s,n,c,o,"next",t)}function o(t){l(i,s,n,c,o,"throw",t)}c(void 0)}))}}const c={name:"Client",data:function(){return{orders:[],lite:[],select:[],client:{},detox:0,search:"",headers:[{text:"№",value:"id"},{text:"Имя",value:"name"},{text:"Тип",value:"type"},{text:"Размер",value:"size",filterable:!1}],amo_loading:!1,loading:!0,dialog:!1,notifications:!1,sound:!0,widgets:!1}},mounted:function(){this.getLeads()},methods:{getLeads:function(){var t=this;return i(n().mark((function a(){return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,axios.get("/api/orders").then((function(a){t.orders=a.data.orders,t.lite=a.data.lite,t.select=a.data.select,t.detox=a.data.detox})).catch((function(t){console.log(t)})).finally((function(){return t.loading=!1}));case 2:case"end":return a.stop()}}),a)})))()},fetchLeads:function(){var t=this;return i(n().mark((function a(){return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.amo_loading=!0,a.next=3,axios.get("/api/amo/leads").then((function(a){t.getLeads()})).catch((function(t){console.log(t)})).finally((function(){return t.amo_loading=!1}));case 3:case"end":return a.stop()}}),a)})))()},showDetails:function(t){console.log(t),this.dialog=!0,this.client=t}}};const o=(0,e(900).Z)(c,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-row",[e("v-btn",{staticClass:"ma-3",attrs:{loading:t.amo_loading,disabled:t.amo_loading,color:"primary"},on:{click:t.fetchLeads}},[t._v("\n            Получить данные\n        ")])],1),t._v(" "),e("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("v-toolbar",{attrs:{dark:"",color:"primary"}},[e("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialog=!1}}},[e("v-icon",[t._v("mdi-close")])],1),t._v(" "),e("v-toolbar-title",[t._v("Settings")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-toolbar-items",[e("v-btn",{attrs:{dark:"",text:""},on:{click:function(a){t.dialog=!1}}},[t._v("\n                        Сохранить\n                    ")])],1)],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"4"}},[e("div",{staticClass:"px-6 py-3"},[e("h3",{staticClass:"mb-4"},[t._v(t._s(t.client.name))]),t._v(" "),e("p",{domProps:{innerHTML:t._s(t.client.description)}})])]),t._v(" "),e("v-col")],1)],1)],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"8"}},[e("v-card",[e("v-card-title",[e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Поиск","single-line":"","hide-details":""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),t._v(" "),e("v-data-table",{attrs:{dense:"",loading:t.loading,"loading-text":"Loading... Please wait",headers:t.headers,items:t.orders,"item-key":"id",search:t.search},on:{"click:row":t.showDetails}})],1)],1),t._v(" "),e("v-col",[e("v-card",{staticClass:"mb-5",attrs:{color:"#385F73",dark:""}},[e("v-card-title",{staticClass:"text-h5"},[t._v("\n                    Итого: "+t._s(t.orders.length)+"\n                ")])],1),t._v(" "),e("v-card",{staticClass:"mb-5"},[e("v-card-title",{staticClass:"text-h5"},[t._v("\n                    Lite: "+t._s(t.lite.total)+"\n                ")]),t._v(" "),e("v-card-text",[e("div",[e("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            XS: "+t._s(t.lite.xs)+"\n                        ")]),t._v(" "),e("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            S: "+t._s(t.lite.s)+"\n                        ")]),t._v(" "),e("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            M: "+t._s(t.lite.m)+"\n                        ")]),t._v(" "),e("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            L: "+t._s(t.lite.l)+"\n                        ")]),t._v(" "),e("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            XL: "+t._s(t.lite.xl)+"\n                        ")])],1)])],1),t._v(" "),e("v-card",{staticClass:"mb-5"},[e("v-card-title",{staticClass:"text-h5"},[t._v("\n                    Select: "+t._s(t.select.total)+"\n                ")]),t._v(" "),e("v-card-text",[e("div",[e("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            XS: "+t._s(t.select.xs)+"\n                        ")]),t._v(" "),e("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            S: "+t._s(t.select.s)+"\n                        ")]),t._v(" "),e("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            M: "+t._s(t.select.m)+"\n                        ")]),t._v(" "),e("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            L: "+t._s(t.select.l)+"\n                        ")]),t._v(" "),e("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            XL: "+t._s(t.select.xl)+"\n                        ")])],1)])],1),t._v(" "),e("v-card",[e("v-card-title",{staticClass:"text-h5"},[t._v("\n                    Detox: "+t._s(t.detox)+"\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);