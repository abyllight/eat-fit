"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[415],{9415:(t,e,s)=>{s.r(e),s.d(e,{default:()=>h});var i=s(7757),n=s.n(i),r=s(9669),a=s.n(r);function o(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}function l(t,e,s,i,n,r,a){try{var o=t[r](a),c=o.value}catch(t){return void s(t)}o.done?e(c):Promise.resolve(c).then(i,n)}function d(t){return function(){var e=this,s=arguments;return new Promise((function(i,n){var r=t.apply(e,s);function a(t){l(r,i,n,a,o,"next",t)}function o(t){l(r,i,n,a,o,"throw",t)}a(void 0)}))}}const u={name:"KitchenOrders",data:function(){return{orders:[],lite:[],select:[],detox:[],go:[],itemsPerPage:300,search:"",headers:[{text:"#",value:"index"},{text:"Имя",value:"name"},{text:"Тэг",value:"tag"}],amo_loading:!1,loading:!0,dialog:!1,dialog2:!1,ingredients:[],categories:[],applied_categories:[],ingredient_categories:[],chosen_category:{},chosen_ingredient:{},target_ingredient:null,dishes:[],dish:{},select_previous:[],select_result:[],previous:{},result:{},order:{},cuisine:{},mix:[],tag:"",tags:[],errors:[],rations:[],result_description:"",previous_description:""}},created:function(){this.getLeads(),this.getLite(),this.getSelect(),this.getDetox(),this.getGo(),this.getIngredients(),this.getCategories(),this.getCuisine(),this.getRations()},methods:{getLeads:function(){var t=this;return d(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,a().get("/api/orders/select-orders").then((function(e){t.orders=e.data,console.log(e.data)})).catch((function(e){t.loading=!1,t.$store.dispatch("showAlert",{isVisible:!0,msg:e.message,color:"error",type:"error"})})).finally((function(){return t.loading=!1}));case 3:case"end":return e.stop()}}),e)})))()},getLite:function(){var t=this;return d(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().get("/api/orders/lite").then((function(e){t.lite=e.data})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},getSelect:function(){var t=this;return d(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().get("/api/orders/select").then((function(e){t.select=e.data})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},getDetox:function(){var t=this;return d(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().get("/api/orders/detox").then((function(e){t.detox=e.data})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},getGo:function(){var t=this;return d(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().get("/api/orders/go").then((function(e){t.go=e.data})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},webhook:function(){var t=this;return d(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.amo_loading=!0,e.next=3,a().get("/api/webhook").then((function(t){console.log(t)})).catch((function(e){t.$store.dispatch("showAlert",{isVisible:!0,msg:e.message,color:"error",type:"error"})})).finally((function(){return t.amo_loading=!1}));case 3:case"end":return e.stop()}}),e)})))()},fetchLeads:function(){var t=this;return d(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.amo_loading=!0,e.next=3,a().get("/api/amo/leads").then((function(){t.getLeads()})).catch((function(e){t.$store.dispatch("showAlert",{isVisible:!0,msg:e.message,color:"error",type:"error"})})).finally((function(){return t.amo_loading=!1}));case 3:case"end":return e.stop()}}),e)})))()},getIngredients:function(){var t=this;return d(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().get("/api/ingredients").then((function(e){t.ingredients=e.data})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},getCategories:function(){var t=this;return d(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().get("/api/categories").then((function(e){t.categories=e.data})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},getCategoriesByIngredient:function(t){var e=this;return d(n().mark((function s(){return n().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a().get("/api/categories/ingredient/"+t).then((function(t){e.ingredient_categories=t.data})).catch((function(t){console.log(t)}));case 2:case"end":return s.stop()}}),s)})))()},getRations:function(){var t=this;return d(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().get("/api/rations/required").then((function(e){t.rations=e.data})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},getDishes:function(t){var e=this;return d(n().mark((function s(){return n().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a().get("/api/dishes/ration/"+t).then((function(t){e.dishes=t.data,e.dishes.length>0?(e.dish=e.dishes.find((function(t){return t.id===e.result&&e.result.dish_id})),e.dish||(e.dish=e.dishes[0])):e.dish.ingredients=[]})).catch((function(t){console.log(t)}));case 2:case"end":return s.stop()}}),s)})))()},getCuisine:function(){var t=this;return d(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().get("/api/cuisine/duty").then((function(e){t.cuisine=e.data})).catch((function(e){t.loading=!1,t.$store.dispatch("showAlert",{isVisible:!0,msg:e.message,color:"error",type:"error"})}));case 2:case"end":return e.stop()}}),e)})))()},getPreviousOrderSelectByRationId:function(t){var e=this;return d(n().mark((function s(){return n().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a().get("/api/orders/"+e.order.id+"/previous/select/ration/"+t).then((function(t){e.previous=t.data})).catch((function(t){console.log(t)}));case 2:case"end":return s.stop()}}),s)})))()},getOrderSelectByRationId:function(t){var e=this;return d(n().mark((function s(){return n().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a().get("/api/orders/"+e.order.id+"/today/select/ration/"+t).then((function(t){e.result=t.data})).catch((function(t){console.log(t)}));case 2:case"end":return s.stop()}}),s)})))()},showDetails:function(t){this.order=t,this.mix=t.blacklist,this.tags=t.wishlist,this.select_previous=t.previous,this.select_result=t.result,this.dialog=!0},close:function(){this.order={},this.mix=[],this.dialog=!1,this.applied_categories=[],this.tag="",this.result_description="",this.previous_description=""},closeDialog2:function(){this.ingredient_categories=[],this.chosen_category={},this.chosen_ingredient={},this.target_ingredient=null,this.dialog2=!1},applyCategories:function(){var t=this,e=this.applied_categories.map((function(e){return t.categories.find((function(t){return t.id===e})).ingredient_ids}));e=(e=e.flat()).concat(this.order.blacklist),this.mix=o(new Set(e))},getBlacklist:function(){var t=this;a().get("/api/order/blacklist/"+this.order.id).then((function(t){})).catch((function(e){t.$store.dispatch("showAlert",{isVisible:!0,msg:e.msg,color:"error",type:"error"})}))},addToBlacklist:function(){var t=this;a().post("/api/blacklist",{id:this.order.id,blacklist:this.mix}).then((function(e){t.getBlacklist(),t.$store.dispatch("showAlert",{isVisible:!0,msg:e.data.msg,color:"green",type:"success"})})).catch((function(e){console.log(e),t.errors=e.response.data.errors}))},getWishlist:function(){var t=this;a().get("/api/order/wishlist/"+this.order.id).then((function(e){t.tags=e.data.data})).catch((function(e){t.$store.dispatch("showAlert",{isVisible:!0,msg:e.msg,color:"error",type:"error"})}))},addTag:function(){var t=this;a().post("/api/wishlist",{id:this.order.id,tag:this.tag}).then((function(e){t.tag="",t.getWishlist(),t.$store.dispatch("showAlert",{isVisible:!0,msg:e.data.msg,color:e.data.status?"green":"error",type:e.data.status?"success":"error"}),t.errors=[]})).catch((function(e){t.errors=e.response.data.errors}))},removeTag:function(t){var e=this;a().post("/api/wishlist/remove",{id:this.order.id,tag:t}).then((function(t){e.getWishlist(),e.$store.dispatch("showAlert",{isVisible:!0,msg:t.data.msg,color:t.data.status?"green":"error",type:t.data.status?"success":"error"})})).catch((function(t){console.log(t),e.errors=t.response.data.errors}))},openRation:function(t){var e,s;this.previous=null!==(e=this.select_previous.find((function(e){return e.ration_id===t})))&&void 0!==e?e:{},this.result=null!==(s=this.select_result.find((function(e){return e.ration_id===t})))&&void 0!==s?s:{},this.result_description=this.result.description,this.previous_description=this.previous.description,this.getDishes(t)},hasResultIncludeIngredient:function(t){return 0!==Object.keys(this.result).length&&this.result.ingredient_ids.includes(t)},hasPreviousIncludeIngredient:function(t){return 0!==Object.keys(this.dish).length&&this.dish.ingredient_ids.includes(t)},setDish:function(){var t=this;a().post("/api/select/"+this.result.id+"/dish/"+this.dish.id).then((function(e){e.data.status||t.$store.dispatch("showAlert",{isVisible:!0,msg:e.data.msg,color:"error",type:"error"}),t.result=e.data.data})).catch((function(t){console.log(t)}))},setDescription:function(){var t=this;a().post("/api/select/"+this.result.id+"/description",{description:this.result_description}).then((function(e){t.$store.dispatch("showAlert",{isVisible:!0,msg:e.data.msg,color:e.data.status?"success":"error",type:e.data.status?"success":"error"}),t.result_description=e.data.description})).catch((function(t){console.log(t)}))},showAnalogs:function(t){this.getCategoriesByIngredient(t),this.target_ingredient=t,this.dialog2=!0},addIngredient:function(t){var e=this;a().post("/api/select/add/ingredient",{select_id:this.result.id,ingredient_id:t}).then((function(t){t.data.status||e.$store.dispatch("showAlert",{isVisible:!0,msg:t.data.msg,color:"error",type:"error"}),e.result=t.data.data})).catch((function(t){console.log(t)}))},removeIngredient:function(t){var e=this;a().post("/api/select/remove/ingredient",{select_id:this.result.id,ingredient_id:t}).then((function(t){t.data.status||e.$store.dispatch("showAlert",{isVisible:!0,msg:t.data.msg,color:"error",type:"error"}),e.result=t.data.data})).catch((function(t){console.log(t)}))},replaceIngredient:function(t){var e=this;a().post("/api/select/replace/ingredient",{select_id:this.result.id,ingredient_id:this.target_ingredient,analog_id:t}).then((function(t){if(t.data.status){e.result=t.data.select;var s=t.data.ingredient,i=e.dish.ingredients.findIndex((function(t){return t.id===s.id}));e.dish.ingredients[i]=s,e.closeDialog2()}})).catch((function(t){console.log(t)}))},returnIngredient:function(t,e){var s=this;a().post("/api/select/return/ingredient",{select_id:this.result.id,ingredient_id:t,analog_id:e}).then((function(t){if(t.data.status){s.result=t.data.select;var e=t.data.ingredient,i=s.dish.ingredients.findIndex((function(t){return t.id===e.id}));s.dish.ingredients[i]=e}})).catch((function(t){console.log(t)}))}}};const h=(0,s(1900).Z)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-row",[s("v-btn",{staticClass:"ma-3",attrs:{loading:t.amo_loading,disabled:t.amo_loading,color:"primary"},on:{click:t.fetchLeads}},[t._v("\n            Получить данные с AMOCRM\n        ")])],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"12",sm:"12",lg:"9"}},[s("v-card",[s("v-card-title",[s("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Поиск","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-data-table",{attrs:{loading:t.loading,"loading-text":"Loading... Please wait",headers:t.headers,items:t.orders,"items-per-page":t.itemsPerPage,"item-key":"id",search:t.search,"hide-default-footer":""},on:{"click:row":t.showDetails},scopedSlots:t._u([{key:"item.index",fn:function(e){var s=e.index;return[t._v("\n                        "+t._s(s+1)+"\n                    ")]}}])})],1)],1),t._v(" "),s("v-col",[s("v-card",{staticClass:"mb-5",attrs:{color:"#385F73",dark:""}},[s("v-card-title",{staticClass:"text-h5"},[t._v("\n                    Итого: "+t._s(t.orders.length)+"\n                ")])],1),t._v(" "),s("v-card",{staticClass:"mb-5"},[s("v-card-title",{staticClass:"text-h5"},[t._v("\n                    Lite: "+t._s(t.lite.total)+"\n                ")]),t._v(" "),s("v-card-text",[s("div",[s("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            XS: "+t._s(t.lite.xs)+"\n                        ")]),t._v(" "),s("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            S: "+t._s(t.lite.s)+"\n                        ")]),t._v(" "),s("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            M: "+t._s(t.lite.m)+"\n                        ")]),t._v(" "),s("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            L: "+t._s(t.lite.l)+"\n                        ")]),t._v(" "),s("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            XL: "+t._s(t.lite.xl)+"\n                        ")])],1)])],1),t._v(" "),s("v-card",{staticClass:"mb-5"},[s("v-card-title",{staticClass:"text-h5"},[t._v("\n                    Select: "+t._s(t.select.total)+"\n                ")]),t._v(" "),s("v-card-text",[s("div",[s("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            XS: "+t._s(t.select.xs)+"\n                        ")]),t._v(" "),s("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            S: "+t._s(t.select.s)+"\n                        ")]),t._v(" "),s("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            M: "+t._s(t.select.m)+"\n                        ")]),t._v(" "),s("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            L: "+t._s(t.select.l)+"\n                        ")]),t._v(" "),s("v-chip",{staticClass:"ma-2",attrs:{label:""}},[t._v("\n                            XL: "+t._s(t.select.xl)+"\n                        ")])],1)])],1),t._v(" "),s("v-card",{staticClass:"mb-5"},[s("v-card-title",{staticClass:"text-h5"},[t._v("\n                    Detox: "+t._s(t.detox)+"\n                ")])],1),t._v(" "),s("v-card",[s("v-card-title",{staticClass:"text-h5"},[t._v("\n                    GO: "+t._s(t.go)+"\n                ")])],1)],1)],1),t._v(" "),s("v-row",{attrs:{justify:"center"}},[s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-btn",{attrs:{icon:"",dark:""},on:{click:t.close}},[s("v-icon",[t._v("mdi-close")])],1),t._v(" "),s("v-toolbar-title",[t._v("Диета")]),t._v(" "),s("v-spacer")],1),t._v(" "),t.order?s("v-card-title",[s("span",{staticClass:"text-h5"},[t._v(" "+t._s(t.order.name)+" "+t._s(t.order.tag))])]):t._e(),t._v(" "),t.order?s("v-card-text",[s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"12",lg:"6"}},[t.order.diet?s("v-card",{attrs:{color:"lime lighten-4"}},[s("v-card-text",[t._v("\n                                        "+t._s(t.order.diet)+"\n                                    ")])],1):t._e()],1),t._v(" "),s("v-col",[t.order.diet_old?s("v-card",{staticClass:"mt-4",attrs:{color:"red lighten-4"}},[s("v-card-text",[t._v("\n                                        "+t._s(t.order.diet_old)+"\n                                    ")])],1):t._e()],1)],1),t._v(" "),s("h3",{staticClass:"my-5"},[t._v("Черный список")]),t._v(" "),s("v-row",{staticClass:"mb-4"},[s("v-col",{attrs:{sm:"12",lg:"4"}},[s("v-autocomplete",{attrs:{items:t.categories,"item-text":"name","item-value":"id",clearable:"",outlined:"",label:"Категории",multiple:""},on:{change:t.applyCategories},model:{value:t.applied_categories,callback:function(e){t.applied_categories=e},expression:"applied_categories"}})],1),t._v(" "),s("v-col",{attrs:{sm:"12",lg:"8"}},[s("v-autocomplete",{attrs:{items:t.ingredients,"item-text":"name","item-value":"id",clearable:"",outlined:"","small-chips":"",label:"Ингредиенты",multiple:""},model:{value:t.mix,callback:function(e){t.mix=e},expression:"mix"}}),t._v(" "),s("v-btn",{attrs:{dark:""},on:{click:t.addToBlacklist}},[t._v("\n                                    Сохранить\n                                ")])],1)],1),t._v(" "),s("h3",{staticClass:"my-5"},[t._v("Зеленый список")]),t._v(" "),s("v-row",{staticClass:"mb-4"},[s("v-col",{attrs:{sm:"12",lg:"4"}},[s("v-text-field",{attrs:{clearable:"",label:"Тэг",outlined:"","error-messages":t.errors.tag},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}}),t._v(" "),s("v-btn",{attrs:{color:"primary"},on:{click:t.addTag}},[t._v("\n                                    Добавить\n                                ")])],1),t._v(" "),s("v-col",{attrs:{sm:"12",lg:"8"}},t._l(t.tags,(function(e,i){return s("v-chip",{key:i,staticClass:"ma-2",attrs:{close:""},on:{"click:close":function(s){return t.removeTag(e)}}},[t._v("\n                                    "+t._s(e)+"\n                                ")])})),1)],1),t._v(" "),s("v-divider",{staticClass:"my-6"}),t._v(" "),s("h2",{staticClass:"mb-6"},[t._v(t._s(t.cuisine.name))]),t._v(" "),s("v-row",{staticClass:"py-3"},[s("v-expansion-panels",t._l(t.rations,(function(e){return s("v-expansion-panel",{key:e.id,on:{click:function(s){return t.openRation(e.id)}}},[s("v-expansion-panel-header",[t._v("\n                                        "+t._s(e.name)+"\n                                    ")]),t._v(" "),s("v-expansion-panel-content",[s("v-row",[t.previous?s("v-col",{attrs:{cols:"3"}},[s("h4",[t._v(t._s(t.previous.created_at))]),t._v(" "),s("span",[t._v(t._s(t.previous.cuisine))]),t._v(" "),t.dish?s("v-list",{attrs:{dense:""}},[t.previous.dish?s("v-subheader",[t._v(t._s(t.previous.dish.name))]):t._e(),t._v(" "),t._l(t.previous.ingredients,(function(e,i){return s("v-list-item",{key:i,class:t.hasPreviousIncludeIngredient(e.id)?"yellow lighten-3":""},[s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(i+1)+". "+t._s(e.name))])],1)],1)}))],2):t._e(),t._v(" "),s("p",[t._v("\n                                                    "+t._s(t.previous_description)+"\n                                                ")])],1):t._e(),t._v(" "),s("v-col",{attrs:{cols:"5"}},[s("h4",[t._v("Сегодня")]),t._v(" "),s("span",[t._v(t._s(t.cuisine.name))]),t._v(" "),s("v-row",{staticClass:"mt-2"},[s("v-col",[s("v-select",{attrs:{dense:"",items:t.dishes,"item-text":"name","return-object":"",outlined:"",label:"Блюда"},model:{value:t.dish,callback:function(e){t.dish=e},expression:"dish"}})],1),t._v(" "),t.dish?s("v-col",[s("v-btn",{attrs:{color:"primary",small:"",disabled:t.dish.id===t.result.dish_id},on:{click:t.setDish}},[t._v("\n                                                            Выбрать\n                                                        ")])],1):t._e()],1),t._v(" "),t.dish&&t.result?s("div",t._l(t.dish.ingredients,(function(e,i){return s("v-sheet",{key:e.id,staticClass:"pa-3 mb-3 flex justify-center",attrs:{elevation:"1"}},[s("div",{staticClass:"flex flex-row"},[s("p",{class:t.hasResultIncludeIngredient(e.id)?"":"text-decoration-line-through"},[t._v("\n                                                                    "+t._s(i+1)+". "+t._s(e.name)+"\n                                                                ")]),t._v(" "),e.analog?s("span",[t._v("\n                                                                    "+t._s(e.analog.name)+"\n                                                                ")]):t._e()]),t._v(" "),s("div",{staticClass:"mt-2"},[t.dish.id!==t.result.dish_id||e.analog?t._e():s("v-btn",{class:t.hasResultIncludeIngredient(e.id)?"red":"green",attrs:{"x-small":""},on:{click:function(s){t.hasResultIncludeIngredient(e.id)?t.removeIngredient(e.id):t.addIngredient(e.id)}}},[t._v("\n                                                                "+t._s(t.hasResultIncludeIngredient(e.id)?"Убрать":"Вернуть")+"\n                                                            ")]),t._v(" "),t.dish&&t.dish.id===t.result.dish_id?s("v-btn",{staticClass:"ml-2",attrs:{"x-small":""},on:{click:function(s){e.analog?t.returnIngredient(e.id,e.analog.id):t.showAnalogs(e.id)}}},[t._v("\n                                                                "+t._s(e.analog?"Отменить замену":"Замена")+"\n                                                            ")]):t._e()],1)])})),1):t._e()],1),t._v(" "),s("v-col",[s("h4",[t._v("Итог")]),t._v(" "),s("span",[t._v(t._s(t.cuisine.name))]),t._v(" "),t.result?s("div",[s("p",{staticClass:"my-4"},[t._v(t._s(t.result.dish?t.result.dish.name:""))]),t._v(" "),t._l(t.result.ingredients,(function(e,i){return s("v-sheet",{key:e.id,staticClass:"pa-3 mb-3 flex justify-center",attrs:{elevation:"1",color:t.mix.includes(e.id)?"red lighten-3":""}},[t._v("\n                                                        "+t._s(i+1)+". "+t._s(e.name)+"\n                                                    ")])})),t._v(" "),s("v-textarea",{attrs:{outlined:"",clearable:"",label:"Доп. инфо"},model:{value:t.result_description,callback:function(e){t.result_description=e},expression:"result_description"}}),t._v(" "),s("v-btn",{attrs:{color:"primary"},on:{click:t.setDescription}},[t._v("\n                                                        сохранить\n                                                    ")])],2):t._e()])],1)],1)],1)})),1)],1)],1)],1):t._e()],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"800px"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[s("v-card",[s("v-card-title",[t._v("\n                Замена\n            ")]),t._v(" "),s("v-card-text",{staticStyle:{height:"400px"}},[s("v-row",{staticClass:"mt-3"},[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-select",{attrs:{items:t.ingredient_categories,label:"Категории","item-text":"name","return-object":"",outlined:"",clearable:""},model:{value:t.chosen_category,callback:function(e){t.chosen_category=e},expression:"chosen_category"}})],1),t._v(" "),t.chosen_category?s("v-col",t._l(t.chosen_category.ingredients,(function(e,i){return s("v-sheet",{key:i,staticClass:"pa-3 mb-3 flex justify-center",class:t.mix.includes(e.id)?"red lighten-3":"",attrs:{elevation:"1"}},[s("p",[t._v("\n                                "+t._s(i+1)+". "+t._s(e.name)+"\n                            ")]),t._v(" "),s("div",{staticClass:"mt-2"},[s("v-btn",{attrs:{"x-small":""},on:{click:function(s){return t.replaceIngredient(e.id)}}},[t._v("\n                                    выбрать\n                                ")])],1)])})),1):t._e()],1)],1),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeDialog2}},[t._v("\n                    Закрыть\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);