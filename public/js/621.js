"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[621],{9621:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(7757),r=n.n(i);function s(e,t,n,i,r,s,a){try{var o=e[s](a),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,r)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){s(a,i,r,o,c,"next",e)}function c(e){s(a,i,r,o,c,"throw",e)}o(void 0)}))}}const o={name:"CuisineDishesCreate",props:{id:Number,r_id:Number},data:function(){return{ingredients:[],departments:[],all_rations:[],loading:!1,disabled:!1,errors:[],dish:{cuisine_id:null,name:null,ration_id:null,department_id:null,ingredient_ids:[],is_custom:!1}}},created:function(){this.getIngredients(),this.getDepartments(),this.getAllRations()},methods:{getIngredients:function(){var e=this;return a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/ingredients").then((function(t){e.ingredients=t.data})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},getDepartments:function(){var e=this;return a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/departments").then((function(t){e.departments=t.data})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},getAllRations:function(){var e=this;return a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/rations").then((function(t){e.all_rations=t.data})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},create:function(){var e=this;this.dish.cuisine_id=this.id,this.dish.ration_id=this.r_id,axios.post("/api/dishes",this.dish).then((function(t){e.$store.dispatch("showAlert",{isVisible:!0,msg:t.data.msg,color:"green",type:"success"}),t.data.status?e.$router.push({name:"cuisine_dishes",params:{id:e.dish.cuisine_id}}):e.errors=t.data.errors})).catch((function(t){console.log(t),e.errors=t.response.data.errors}))}}};const c=(0,n(1900).Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-row",[n("v-col",[n("v-btn",{on:{click:function(t){return e.$router.back()}}},[e._v("\n                Назад к кухне\n            ")])],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{sm:"12",lg:"8"}},[n("v-text-field",{attrs:{label:"Название","error-messages":e.errors.name,outlined:"",clearable:""},model:{value:e.dish.name,callback:function(t){e.$set(e.dish,"name",t)},expression:"dish.name"}}),e._v(" "),n("v-select",{attrs:{items:e.all_rations,"item-text":"name","item-value":"id",outlined:"",disabled:"",label:"Рационы"},model:{value:e.r_id,callback:function(t){e.r_id=t},expression:"r_id"}}),e._v(" "),n("v-autocomplete",{attrs:{items:e.departments,"item-text":"name","item-value":"id",clearable:"",outlined:"",label:"Цех","error-messages":e.errors.department_id},model:{value:e.dish.department_id,callback:function(t){e.$set(e.dish,"department_id",t)},expression:"dish.department_id"}}),e._v(" "),n("v-autocomplete",{attrs:{items:e.ingredients,"item-text":"name","item-value":"id",clearable:"",outlined:"","small-chips":"",label:"Ингредиенты","error-messages":e.errors.ingredient_ids,multiple:""},model:{value:e.dish.ingredient_ids,callback:function(t){e.$set(e.dish,"ingredient_ids",t)},expression:"dish.ingredient_ids"}}),e._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:e.create}},[e._v("\n                Сохранить\n            ")])],1)],1)],1)}),[],!1,null,null,null).exports}}]);